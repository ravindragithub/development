<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <fieldSets>
        <fullName>Invoice_Payment_page_Account_Fields</fullName>
        <availableFields>
            <field>Customer_Class__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Gateway__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Invoice_Delivery_Type__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Payment_Method__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Payment_Terms__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Preferred_Billing_Day__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>ShippingCity</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>ShippingCountry</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>ShippingPostalCode</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>ShippingState</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>ShippingStreet</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Todays_MRR_With_TAX__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>TotalInvoiceValue__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>TotalOrderValue__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>TotalQuoteValue__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <description>Invoice_Payment_page_Account_Fields</description>
        <displayedFields>
            <field>Name</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>BillingStreet</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>BillingCity</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>BillingState</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>BillingPostalCode</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>BillingCountry</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <label>Invoice Payment page Account Fields</label>
    </fieldSets>
    <fields>
        <fullName>Advance_Request_Status__c</fullName>
        <deprecated>false</deprecated>
        <description>Automatically the status is populated</description>
        <externalId>false</externalId>
        <label>Advance Request Status</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Requested</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Paid</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Advance_Requested_Amount__c</fullName>
        <deprecated>false</deprecated>
        <description>Amount Proposed by the User</description>
        <externalId>false</externalId>
        <label>Advance Amount Requested(Current)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>BrainTree_Customer_ID__c</fullName>
        <deprecated>false</deprecated>
        <description>On first creation of token Customer ID will populate</description>
        <externalId>false</externalId>
        <inlineHelpText>This field will auto populate when ever the token is generated for the first time</inlineHelpText>
        <label>BrainTree Customer ID</label>
        <length>50</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Cash_Allocation_Rule__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Cash Allocation Rule</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Oldest Invoice First</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>No Allocation</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Match Invoice Amount</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Customer_Class__c</fullName>
        <deprecated>false</deprecated>
        <description>Categorize your customers so you can configure different discount levels for them.</description>
        <externalId>false</externalId>
        <inlineHelpText>Categorize your customers so you can configure different discount levels for them.</inlineHelpText>
        <label>Customer Class</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Default</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>*</fullName>
                    <default>true</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Customer_Profile_ID__c</fullName>
        <deprecated>false</deprecated>
        <description>Payment Profile id is generated for Authorize.net CIM</description>
        <externalId>false</externalId>
        <label>Customer Profile ID</label>
        <length>50</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Gateway__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>Default payment Gateway proposed by the User</description>
        <externalId>false</externalId>
        <label>Default Payment Gateway</label>
        <referenceTo>Gateway__c</referenceTo>
        <relationshipLabel>Accounts</relationshipLabel>
        <relationshipName>Accounts</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Invoice_Delivery_Type__c</fullName>
        <deprecated>false</deprecated>
        <description>It provides either Print/Email/Email &amp; Print for invoice</description>
        <externalId>false</externalId>
        <inlineHelpText>PRINT- This is when the Customer receives the invoice in the Post (by mail).
PRINT &amp; STAMP- Customer receives the invoice in the Post (by mail), BUT the invoice has a company stamp on it, to verify it is an original invoice.</inlineHelpText>
        <label>Invoice Delivery Type</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Email</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Email &amp; Print</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Print</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Print &amp; Stamp</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Web Upload</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Payment_Method__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>Default Payment Method proposed by the User</description>
        <externalId>false</externalId>
        <label>Default Payment Method</label>
        <referenceTo>Payment_Method__c</referenceTo>
        <relationshipLabel>Accounts</relationshipLabel>
        <relationshipName>Accounts</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Payment_Terms__c</fullName>
        <deprecated>false</deprecated>
        <description>Terms proposed by the user</description>
        <externalId>false</externalId>
        <label>Payment Terms</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Net 30</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Net 45</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Net 60</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Due On Receipt</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Preferred_Billing_Day__c</fullName>
        <deprecated>false</deprecated>
        <description>The preferred Billing Day for this Order.</description>
        <externalId>false</externalId>
        <inlineHelpText>Some calendar months don&apos;t have the 30th or the 31st day. If you select 31 as the day for invoicing and the current month has only 30 days,30 will be used instead.</inlineHelpText>
        <label>Preferred Billing Day of the month</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>1</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>2</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>3</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>4</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>5</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>6</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>7</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>8</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>9</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>10</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>11</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>12</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>13</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>14</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>15</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>16</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>17</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>18</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>19</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>20</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>21</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>22</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>23</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>24</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>25</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>26</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>27</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>28</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>29</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>30</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>31</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Todays_MRR_With_TAX__c</fullName>
        <deprecated>false</deprecated>
        <description>This is Monthly Recurring Revenue calculated with Tax on a schedule. 
This considers the recurring charges that are active today based on the 
Service Activation Date and Service End Date 
at the line level. Plz refer the help doc on how to schedule this.</description>
        <externalId>false</externalId>
        <label>Today&apos;s MRR With Tax</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Todays_MRR__c</fullName>
        <deprecated>false</deprecated>
        <description>&quot;This is the Monthly Recurring Revenue calculated on a schedule. 
This considers the recurring charges that are active today based on the 
Service Activation Date and Service End Date 
at the line level. Plz refer the help doc on how to schedule this.</description>
        <externalId>false</externalId>
        <label>Today&apos;s MRR</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>TotalInvoiceValue__c</fullName>
        <deprecated>false</deprecated>
        <description>It will calculate the SUM of the Invoice&apos;s.</description>
        <externalId>false</externalId>
        <inlineHelpText>SUM of the Invoice&apos;s on this account</inlineHelpText>
        <label>Total Invoice Value</label>
        <summarizedField>Invoice__c.Total_Invoice_Value__c</summarizedField>
        <summaryFilterItems>
            <field>Invoice__c.Invoice_Status__c</field>
            <operation>equals</operation>
            <value>Draft, Posted</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>Invoice__c.Invoice_State__c</field>
            <operation>equals</operation>
            <value>Regular,</value>
        </summaryFilterItems>
        <summaryForeignKey>Invoice__c.Account__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>TotalOrderValue__c</fullName>
        <deprecated>false</deprecated>
        <description>Sum of Orders on this Account</description>
        <externalId>false</externalId>
        <inlineHelpText>Sum of orders on this account</inlineHelpText>
        <label>Total Order Value</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>TotalQuoteValue__c</fullName>
        <deprecated>false</deprecated>
        <description>Sum of Quotes on this Account</description>
        <externalId>false</externalId>
        <inlineHelpText>Sum of quotes on this account</inlineHelpText>
        <label>Total Quote Value</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Total_Unallocated_Payment__c</fullName>
        <deprecated>false</deprecated>
        <description>Indicates the customer credit - all the unallocated payments against this customer.</description>
        <externalId>false</externalId>
        <inlineHelpText>Indicates the customer credit - all the unallocated payments against this customer.</inlineHelpText>
        <label>Customer Credit</label>
        <summarizedField>Payment__c.Unallocated_Amount__c</summarizedField>
        <summaryFilterItems>
            <field>Payment__c.Status__c</field>
            <operation>equals</operation>
            <value>Initiated, Completed</value>
        </summaryFilterItems>
        <summaryForeignKey>Payment__c.Account__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>VAT_No__c</fullName>
        <deprecated>false</deprecated>
        <description>This field will manually populates when the customer is using VAT/Tax  numbers for their 
business/products</description>
        <externalId>false</externalId>
        <label>Customer VAT / Tax No</label>
        <length>50</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <webLinks>
        <fullName>Create_Payment_Profile</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Create Payment Profile</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;/resource/invoiceit_s__jQueryForPopup/jQuery/jquery-1.8.2.min.js&apos;)} 
{!REQUIRESCRIPT(&apos;/resource/invoiceit_s__jQueryForPopup/jQuery/ui/jquery-ui-1.9.1.custom.min.js&apos;)} 
requireCssFile(&apos;/resource/invoiceit_s__jQueryForPopup/jQuery/ui/css/ui-lightness/jquery-ui-1.9.1.custom.min.css&apos;); 
function requireCssFile(filename) 
{ 
var fileref = document.createElement(&apos;link&apos;); 
fileref.setAttribute(&apos;rel&apos;, &apos;stylesheet&apos;); 
fileref.setAttribute(&apos;type&apos;, &apos;text/css&apos;); 
fileref.setAttribute(&apos;href&apos;, filename); 
document.getElementsByTagName(&apos;head&apos;)[0].appendChild(fileref); 
} 
jQuery(function() { 
var iframe_url = &apos;{!URLFOR(&quot;/apex/invoiceit_s__paymentProfileCreation?id=&quot;+Account.Id)}&apos;; 
var child_domain = iframe_url.substring(0, iframe_url.indexOf(&apos;/&apos;, 9)); 
var parent_domain = window.location.protocol + &apos;//&apos; + window.location.host; 
var modalDialog = jQuery(&apos;&lt;div id=&quot;opppopup&quot;&gt;&lt;/div&gt;&apos;).html(&apos;&lt;iframe id=&quot;iframeContentId&quot; src=&quot;&apos; + iframe_url + &apos;&quot; frameborder=&quot;0&quot; height=&quot;100%&quot; width=&quot;100%&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;yes&quot; /&gt;&apos;).dialog({ 
autoOpen: false, 
title: &apos;Payment Method&apos;, 
resizable: true, 
width: 800, 
height: 540, 
autoResize: true, 
modal: true, 
draggable: true 
}); 

modalDialog.dialog(&apos;open&apos;); 
});</url>
    </webLinks>
    <webLinks>
        <fullName>Customer_Management_BT</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Customer Management(BT)</masterLabel>
        <openType>sidebar</openType>
        <page>generateTokenForBrainTree</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Customer_Management_CyberSource</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Cybersource Profile Creation</masterLabel>
        <openType>sidebar</openType>
        <page>generateTokenForCyberSource</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Customer_Update_Management_CyberSource</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Cybersource Profile Updation</masterLabel>
        <openType>sidebar</openType>
        <page>updateTokenForCyberSource</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Payeezy_TA_Token</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Payeezy TA Token</masterLabel>
        <openType>sidebar</openType>
        <page>ControllerForPayeezyDirectAPIToken</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Payment_Refund</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Payment Refund</masterLabel>
        <openType>noSidebar</openType>
        <page>Payment_Refund_For_Account</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Request_Advance_Payment</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Request Advance Payment</masterLabel>
        <openType>sidebar</openType>
        <page>requestAdvancePayment</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>VirtualTerminal</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Virtual Terminal</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;/resource/invoiceit_s__jQueryForPopup/jQuery/jquery-1.8.2.min.js&apos;)} 
{!REQUIRESCRIPT(&apos;/resource/invoiceit_s__jQueryForPopup/jQuery/ui/jquery-ui-1.9.1.custom.min.js&apos;)} 

{!REQUIRESCRIPT(&quot;/soap/ajax/23.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/23.0/apex.js&quot; )}

var results = sforce.connection.query(&quot;SELECT Name FROM invoiceit_s__Payment_Method__c &quot; +
&quot;WHERE invoiceit_s__Is_Dummy__c = true and invoiceit_s__Account__c = &apos;{!Account.Id}&apos;&quot;); 
var defaultMethodExit = results.getArray(&quot;records&quot;); 
if(defaultMethodExit.length == 0){
  var dummyPaymentMethod = new sforce.SObject(&quot;invoiceit_s__Payment_Method__c&quot;);
    dummyPaymentMethod.invoiceit_s__Payment_Method__c = &quot;Credit Card&quot;
    dummyPaymentMethod.invoiceit_s__Is_Dummy__c = true;
    dummyPaymentMethod.invoiceit_s__Account__c = &apos;{!Account.Id}&apos;;
    dummyPaymentMethod.invoiceit_s__Active__c = false;
    // create dummy payment method. 
    sforce.connection.create([dummyPaymentMethod]);

}
 


requireCssFile(&apos;/resource/invoiceit_s__jQueryForPopup/jQuery/ui/css/ui-lightness/jquery-ui-1.9.1.custom.min.css&apos;); 
function requireCssFile(filename) 
{ 
var fileref = document.createElement(&apos;link&apos;);
fileref.setAttribute(&apos;rel&apos;, &apos;stylesheet&apos;);
fileref.setAttribute(&apos;type&apos;, &apos;text/css&apos;);
fileref.setAttribute(&apos;href&apos;, filename);
document.getElementsByTagName(&apos;head&apos;)[0].appendChild(fileref);
} 
jQuery(function() {
var iframe_url = &apos;{!URLFOR(&quot;/apex/invoiceit_s__processVirtualTerminalForAccount?id=&quot;+Account.Id)}&apos;;
var child_domain = iframe_url.substring(0, iframe_url.indexOf(&apos;/&apos;, 9));
var parent_domain = window.location.protocol + &apos;//&apos; + window.location.host;
var modalDialog = jQuery(&apos;&lt;div id=&quot;opppopup&quot;&gt;&lt;/div&gt;&apos;).html(&apos;&lt;iframe id=&quot;iframeContentId&quot; src=&quot;&apos; + iframe_url + &apos;&quot; frameborder=&quot;0&quot; height=&quot;100%&quot; width=&quot;100%&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;yes&quot; /&gt;&apos;).dialog({ 
autoOpen: false, 
title: &apos;Virtual Terminal&apos;, 
resizable: true, 
width: 800, 
height: 540, 
autoResize: true, 
modal: true, 
draggable: true 
});

modalDialog.dialog(&apos;open&apos;);
});</url>
    </webLinks>
</CustomObject>
