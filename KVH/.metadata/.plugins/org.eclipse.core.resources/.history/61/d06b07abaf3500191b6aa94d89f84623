<aura:component >
  <aura:attribute name="state" type="string" Description="This is the state of the component" default="INIT"/>
  <aura:attribute name="lteDevices" type="LTE_devices_mfg" Description="This is returned from the Server Side controller" />
  <aura:attribute name="results" type="String" Description="This is the summarized results from the Service Class invoked by the Component" />
  <aura:attribute name="qrLabel" type="String" Description="This is the link to QR Label page" default="/apex/QRLabel_LTE"/>
  <!-- DEPRECATED -->
  <aura:attribute name="assetsCreated" type="Asset[]" Description="This is the Asset Hierarchy submitted to the component" />

  <!-- event publishers -->

  <!-- event listeners -->
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:handler name="assetHierarchyTemplateSearch" event="c:LTE_Devices_component_evt" action="{!c.handleCmpEvent}" />
  <aura:handler name="svcCLassEvent" event="c:LTE_Devices_component_evt" action="{!c.handleCmpEvent}"/>

  <div>
    <div aura:id="hierarchy_div">
      <c:assetHierarchyTemplateSearch />
    </div>
    <div aura:id="post_div">
      <c:LTE_post_device aura:id="post_cmp" assetsCreated="{!v.lteDevices.lteAssets}" />
    </div>
    <div aura:id="exception_div">
      <div class="slds-text-heading_large slds-text-align_center">{!v.results}</div>
      <aura:iteration items="{!v.lteDevices.lteAssets}" var="asset">
        <p class="slds-m-around--small">
          {!asset.Id}&nbsp;{!asset.Name} 
        </p>
      </aura:iteration>
    </div>
    <div aura:id="success_div">
      <div style="width: 100%; height: 7px; background: #F87431; overflow: hidden;" />
      <div class="slds-text-heading_large slds-text-align_center">Success!</div>
      <div class="slds-text-align_center">
        <p>{!v.results}</p>
        <ui:outputURL value="{!v.qrLabel}" label="Print QR label" target="_blank"/>
      </div>
    </div>
    <div aura:id="spinner_div" style="position: static; z-index: 9002;" >
      <lightning:spinner variant="brand" size="medium" alternativeText="Calling Server..."/>
    </div>
  </div>

</aura:component>